import{_ as x}from"./back.15982f8f.js";import{_ as y,u as f,n as M,o as i,j as l,w as m,c as p,a as c,a0 as q,q as d,z as r,ag as C,m as b,f as w,b as Q,h,i as k,ah as v,ai as I,p as S,d as B}from"./index.54d239d6.js";import{Q as L}from"./QHead.261cc03b.js";const N={key:0,class:"message"},T=r(" \u4F60\u53D1\u5E03\u7684\u95EE\u9898"),R={class:"question"},V=r("\u88AB\u70B9\u8D5E\u4E86 "),A={key:1,class:"message"},j=r(" \u4F60\u5728"),z={class:"question"},D=r("\u95EE\u9898\u4E0B\u7684\u56DE\u7B54\u88AB\u70B9\u8D5E\u4E86 "),E={__name:"LikeMessage",props:{id:{type:Number,required:!0},question:{type:String,required:!0},type:{type:String,required:!0,validator(s){return["Q","A"].includes(s)}}},setup(s){const a=s,n=f(),_=M(()=>a.question.length<=15?a.question:a.question.substr(0,12)+"...");return(g,t)=>{const o=C;return i(),l(o,{onClick:t[0]||(t[0]=()=>d(n).push(`ans/${s.id}`))},{default:m(()=>[s.type==="Q"?(i(),p("div",N,[T,c("span",R,"#"+q(d(_)),1),V])):(i(),p("div",A,[j,c("span",z,"#"+q(d(_)),1),D]))]),_:1})}}},F=y(E,[["__scopeId","data-v-1a538215"]]);const H={class:"message"},G=r(" \u4F60\u53D1\u5E03\u7684\u95EE\u9898"),J={class:"question"},K=r("\u88AB\u56DE\u7B54\u4E86 "),O={__name:"CommentMessage",props:{id:{type:Number,required:!0},question:{type:String,required:!0}},setup(s){const a=s,n=f(),_=M(()=>a.question.length<=15?a.question:a.question.substr(0,12)+"...");return(g,t)=>{const o=C;return i(),l(o,{onClick:t[0]||(t[0]=()=>d(n).push(`ans/${s.id}`))},{default:m(()=>[c("div",H,[G,c("span",J,q(d(_)),1),K])]),_:1})}}},P=y(O,[["__scopeId","data-v-80511d12"]]);const $=s=>(S("data-v-aa1dbe15"),s=s(),B(),s),U=$(()=>c("img",{src:x,alt:"\u8FD4\u56DE\u6309\u94AE\u4E2D\u7684\u4E00\u5F20\u56FE\u7247"},null,-1)),W=[U],X=$(()=>c("span",{class:"middle-title"}," \u89E3\u6E58 ",-1)),Y={__name:"TheMessage",setup(s){const a=f(),n=b({like:[],comment:[]});async function _(){const t=await v("like");console.log("likeMessageRes",t);const o=[];for(let e=0;e<t.length;++e){const u=await I(t[e].postId);o.push({content:u.title})}n.like.push(...t.map((e,u)=>({postId:e.postId,type:e.entityType===1?"Q":"A",questionContent:o[u].content}))),console.log("like",n.like)}async function g(){const t=await v("comment"),o=[];for(let e=0;e<t.length;++e){const u=await I(t[e].postId);o.push({content:u.title})}n.comment.push(...t.map((e,u)=>({postId:e.entityId,questionContent:o[u].content}))),console.log("comment",n.comment)}return w(async()=>{await _(),await g()}),(t,o)=>(i(),p(h,null,[Q(L,{class:"head"},{left:m(()=>[c("div",{class:"back",onClick:o[0]||(o[0]=()=>d(a).go(-1))},W)]),middle:m(()=>[X]),_:1}),c("main",null,[(i(!0),p(h,null,k(n.like,e=>(i(),l(F,{key:e.postId,id:e.postId,question:e.questionContent,type:e.type,class:"item"},null,8,["id","question","type"]))),128)),(i(!0),p(h,null,k(n.comment,e=>(i(),l(P,{key:e.postId,id:e.postId,question:e.questionContent,class:"item"},null,8,["id","question"]))),128))])],64))}},se=y(Y,[["__scopeId","data-v-aa1dbe15"]]);export{se as default};
